<div class="card" style="height:98%;overflow-y:scroll" *ngIf="currRsvn && currRsvn.id">
    <div class="card-header">
        <h5>Room Control</h5>
    </div>
    <div class="card-body">
        <h4>{{currRsvn.primary.firstname}} {{currRsvn.primary.middlename}} {{currRsvn.primary.lastname}}</h4>
        <div class='d-flex'>
            <div class="form-control">Check In<br>{{ currRsvn.dateIn }}</div>
            <div class="form-control">Check Out<br>{{ currRsvn.dateOut }}</div>
        </div>
        <div class="section">Assigned Rooms - {{currNumRooms}}/{{currRsvn.numrooms}}</div>
        <div class="flex-con">
            <div *ngFor="let r of roomList" class="rmcell ">
                
                <button  style="border:none" class='{{r.status}}'  [matMenuTriggerFor]="roomMenu">
                    <div >
                        <div class='{{ r.roominfo.bldg.name }}'> {{ r.roominfo.bldg.name }} -- {{ r.roominfo.number }}</div>  
                        <div class="rateAlias">{{ r.roominfo.rateAlias }}</div>
                    </div>
                    <div  *ngIf="rsvnDateActive()" [ngClass]="{'rmsubcell':true,'ready':r.roominfo.status=='ready'}">{{ r.roominfo.status}}</div>
                </button>
                <div style="border:none" class="d-flex" *ngIf="rsvnDateActive()">
                    <button style="color:grey;border:none" *ngIf="r.status != 'checkin'  && r.roominfo.status !='ready'"  
                    class="check_butts" >Stand By </button>

                    <button style="color:green;border:none" *ngIf="r.status != 'checkin' && r.roominfo.status =='ready'"  class="check_butts" (click)="check(r,'checkin')">Check In </button>
                    <button style="color:red;border:none" *ngIf="r.status == 'checkin'" class="check_butts" (click)="check(r,'checkout')">Check Out </button>
                </div>
           <!-- 
                 <div>{{r | json}}</div>
           -->  
                <mat-menu #roomMenu="matMenu">
                    <div class="menu-head">Action</div>

                    
                    <div class="menu-item" 
                        mat-menu-item (click)="check(r,'checkin')">Check-In </div>
                    
                    <div class="menu-item" 
                        mat-menu-item (click)="check(r,'checkout')">Check-Out </div>
               
                    
                    <div class="menu-item" 
                        mat-menu-item (click)="unassignRoom(r)">Delete </div>
                </mat-menu>

            </div>
        </div>
        <app-room-list [currRsvn]='currRsvn' (currRsvnChange)='refreshRsvn()'></app-room-list>
    </div>
    <div class="card-footer">

    </div>
</div>