<section>
    <h3 class="section-heading">Payments</h3>
    <div class="section-body">


<div style="border-top:1px solid black">
    
    <form novalidate [formGroup]="paymentEditForm">
        <div class="d-flex">
            <div class="form-control">
                <input placeholder="Date" type="date" formControlName='date'>
            </div>
            <div class="form-control">
                <input autofocus  placeholder="Item" type="text" formControlName='item'>
            </div>
            <div class="form-control">
                <input autofocus  placeholder="Description" type="text" formControlName='descr'>
            </div>
            <div class="form-control">
                <input autofocus  placeholder="Amount" type="text" formControlName='amount'>
            </div>
            <div class="form-control d-flex">
               <div class="btn-group" > 
                    <button class="btn btn-sm" [disabled]="!(paymentEditForm.valid&& currRsvn && currRsvn.id)"
                            (click)='updatePayment(paymentEditForm.value)'>
                        <span class="material-icons">save</span></button>
                    <button class="btn btn-sm" [disabled]="!(currPayment && currPayment.id)" (click)='deletePayment(paymentEditForm.value)'>
                        <span class="material-icons"> delete </span>
                    </button>
                    <button class="btn btn-sm" [disabled]="!(currPayment && currPayment.id)" (click)='newPayment()'>
                        <span class="material-icons"> note_add </span>
                    </button>
                </div>
            </div>
        </div>
    </form>
</div>

<div class="d-flex" *ngFor='let pmt of paymentList'>
    <div class="form-control">{{pmt.date }}</div>
    <div class="active form-control" (click)="selectPayment(pmt)">{{ pmt.item }}</div>
    <div class="form-control" style="text-align:center">{{ pmt.descr }}</div>
    <div class="form-control dcell">{{ pmt.amount | currency}}</div>
</div>

<div class="d-flex subtotalcell">
    <div class="form-control"></div>
    <div class="form-control"><strong>Total Payments</strong></div>
    <div class="form-control dcell"><strong>{{ payTotal | currency}}</strong></div>

</div>


</div>
</section>